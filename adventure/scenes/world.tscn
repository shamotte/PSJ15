[gd_scene load_steps=29 format=3 uid="uid://b2crbh04dmg5d"]

[ext_resource type="PackedScene" uid="uid://dulcf8h1hbabn" path="res://adventure/objects/characters/character.tscn" id="1_pr2oj"]
[ext_resource type="PackedScene" uid="uid://wjsduwhnwpuu" path="res://adventure/objects/characters/friend.tscn" id="2_476r1"]
[ext_resource type="PackedScene" uid="uid://cwxcnmrqmq12i" path="res://adventure/objects/Decoration/bich_tree.tscn" id="2_wwnik"]
[ext_resource type="PackedScene" uid="uid://b1qs5nksv35qo" path="res://adventure/objects/Decoration/fire_particle_emiter.tscn" id="3_33e7e"]
[ext_resource type="PackedScene" uid="uid://mtfyfu7tyd8a" path="res://adventure/interface/DialogManager.tscn" id="4_q0cwu"]
[ext_resource type="Texture2D" uid="uid://buyl5jk1d453g" path="res://adventure/sprites/wizard.png" id="5_3wsd2"]
[ext_resource type="PackedScene" path="res://adventure/interface/tool_bar.tscn" id="5_f25fo"]
[ext_resource type="Resource" uid="uid://ryed3fkkbjrd" path="res://both/Ingridients/eyeFruit.tres" id="5_g70gw"]
[ext_resource type="PackedScene" uid="uid://b8osndo80rp2f" path="res://adventure/interface/Sanity_bar.tscn" id="5_tox11"]
[ext_resource type="PackedScene" path="res://adventure/interface/hp_bar.tscn" id="5_wodux"]
[ext_resource type="PackedScene" uid="uid://bs6m46ho4wlgr" path="res://adventure/objects/Interactable/Gatherable.tscn" id="6_japwo"]
[ext_resource type="Resource" path="res://both/Ingridients/shroom.tres" id="6_vms6x"]
[ext_resource type="Resource" uid="uid://ct76mem0rld0u" path="res://both/Ingridients/spikezalea.tres" id="7_01t23"]
[ext_resource type="Resource" uid="uid://d20hh5ld28dpf" path="res://both/Ingridients/Fairycandy.tres" id="11_81bix"]
[ext_resource type="PackedScene" uid="uid://f02hyfsoskxo" path="res://adventure/objects/Decoration/table.tscn" id="17_0hms6"]
[ext_resource type="PackedScene" uid="uid://bqila4rgvmh2y" path="res://adventure/objects/Set_of_scenes/writer_and_table.tscn" id="17_6cfga"]
[ext_resource type="Script" path="res://adventure/scripts/open_table.gd" id="17_ofvg0"]
[ext_resource type="PackedScene" uid="uid://r0h7akwf3nve" path="res://adventure/components/Comp_interactable.tscn" id="18_8docl"]
[ext_resource type="Texture2D" uid="uid://cf3b3q2nda8fi" path="res://adventure/sprites/Press E.png" id="18_ca4kl"]
[ext_resource type="PackedScene" uid="uid://kun77gl1w0en" path="res://adventure/objects/Set_of_scenes/Trader_shop.tscn" id="19_6q5ja"]
[ext_resource type="Script" path="res://both/Resources/interaction_component_data.gd" id="19_eqbiu"]

[sub_resource type="Gradient" id="Gradient_w0p8n"]
offsets = PackedFloat32Array(1)
colors = PackedColorArray(0.325441, 0.325441, 0.325441, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_kuyoi"]
gradient = SubResource("Gradient_w0p8n")

[sub_resource type="Gradient" id="Gradient_nvuxq"]
interpolation_mode = 2
offsets = PackedFloat32Array(0, 0.62987, 1)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_0fphx"]
gradient = SubResource("Gradient_nvuxq")
width = 400
height = 400
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="Resource" id="Resource_qh83n"]
script = ExtResource("19_eqbiu")
object = "OpenTable"
function_name = "switch"
player_state = ""
next_interaction_signal = ""
first_argument = ""

[sub_resource type="Resource" id="Resource_wyhsv"]
script = ExtResource("19_eqbiu")
object = "OpenTable"
function_name = "show_tip"
player_state = ""
next_interaction_signal = ""
first_argument = ""

[sub_resource type="Resource" id="Resource_kj3ns"]
script = ExtResource("19_eqbiu")
object = ""
function_name = ""
player_state = ""
next_interaction_signal = ""
first_argument = ""

[node name="World" type="Node2D"]

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(100, 100)
texture = SubResource("GradientTexture2D_kuyoi")

[node name="PlayerCharacter" parent="." instance=ExtResource("1_pr2oj")]
position = Vector2(6.06475, -6.94122)

[node name="latarnia" type="PointLight2D" parent="PlayerCharacter"]
position = Vector2(18.9352, 2.94122)
blend_mode = 2
shadow_enabled = true
texture = SubResource("GradientTexture2D_0fphx")

[node name="Camera2D" type="Camera2D" parent="PlayerCharacter"]

[node name="Decoration" type="Node2D" parent="."]

[node name="StaticBody2D" parent="Decoration" instance=ExtResource("2_wwnik")]
position = Vector2(111, -34)

[node name="StaticBody2D2" parent="Decoration" instance=ExtResource("2_wwnik")]
position = Vector2(144, 40)

[node name="StaticBody2D3" parent="Decoration" instance=ExtResource("2_wwnik")]
position = Vector2(-32, -55)

[node name="StaticBody2D4" parent="Decoration" instance=ExtResource("2_wwnik")]
position = Vector2(178, -74)

[node name="LightOccluder2D" parent="Decoration/StaticBody2D4" index="2"]
visible = false

[node name="GPUParticles2D" parent="Decoration/StaticBody2D4" instance=ExtResource("3_33e7e")]

[node name="latarnia" parent="Decoration/StaticBody2D4/GPUParticles2D" index="0"]
visible = true
blend_mode = 2
shadow_color = Color(0, 0, 0, 1)

[node name="NPC" type="Node2D" parent="."]

[node name="Friend" parent="NPC" instance=ExtResource("2_476r1")]
position = Vector2(44, -162)
rotation = -0.785398

[node name="Gatharable" type="Node2D" parent="."]

[node name="Flower1" parent="Gatharable" instance=ExtResource("6_japwo")]
position = Vector2(-84, -82)
type = ExtResource("11_81bix")

[node name="Flower2" parent="Gatharable" instance=ExtResource("6_japwo")]
position = Vector2(-27, -164)
type = ExtResource("5_g70gw")

[node name="Flower3" parent="Gatharable" instance=ExtResource("6_japwo")]
position = Vector2(-183, -54)
type = ExtResource("6_vms6x")

[node name="Flower4" parent="Gatharable" instance=ExtResource("6_japwo")]
position = Vector2(-100, -166)
type = ExtResource("7_01t23")

[node name="StaticBody2D5" parent="." instance=ExtResource("2_wwnik")]
position = Vector2(-59, 17)

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
blend_mode = 1

[node name="UI" type="CanvasLayer" parent="."]

[node name="ToolBar" parent="UI" instance=ExtResource("5_f25fo")]
offset_left = 7.0
offset_top = 312.0
offset_right = 167.0
offset_bottom = 344.0

[node name="PlayerInfo" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 0
offset_left = 8.0
offset_top = 8.0
offset_right = 48.0
offset_bottom = 48.0

[node name="SanityBar" parent="UI/PlayerInfo" node_paths=PackedStringArray("character") instance=ExtResource("5_tox11")]
layout_mode = 1
offset_left = 35.0
offset_top = 16.0
offset_right = 136.0
offset_bottom = -8.0
character = NodePath("../../../PlayerCharacter")

[node name="TextureRect" type="TextureRect" parent="UI/PlayerInfo"]
custom_minimum_size = Vector2(32, 32)
layout_mode = 0
offset_right = 32.0
offset_bottom = 32.0
texture = ExtResource("5_3wsd2")

[node name="HpBar" parent="UI/PlayerInfo" node_paths=PackedStringArray("character") instance=ExtResource("5_wodux")]
offset_left = 36.0
offset_right = 36.0
character = NodePath("../../../PlayerCharacter")

[node name="DialogManager" parent="UI" instance=ExtResource("4_q0cwu")]
visible = false
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -243.0
offset_top = -114.0
offset_right = -243.0
offset_bottom = -114.0
grow_horizontal = 2
grow_vertical = 0

[node name="TraderShop" parent="." instance=ExtResource("19_6q5ja")]
position = Vector2(311, 44)

[node name="WriterAndTable" parent="." instance=ExtResource("17_6cfga")]
position = Vector2(249, -233)

[node name="Table" type="Node2D" parent="."]
position = Vector2(55, -50)

[node name="Table" parent="Table" instance=ExtResource("17_0hms6")]

[node name="OpenTable" type="Node2D" parent="Table"]
script = ExtResource("17_ofvg0")

[node name="PressE" type="Sprite2D" parent="Table/OpenTable"]
visible = false
position = Vector2(0, -26)
texture = ExtResource("18_ca4kl")

[node name="CompInteractable" parent="Table" instance=ExtResource("18_8docl")]
interactable_array = Array[ExtResource("19_eqbiu")]([SubResource("Resource_qh83n")])
in_area_array = Array[ExtResource("19_eqbiu")]([SubResource("Resource_wyhsv")])
end_interaction_array = Array[ExtResource("19_eqbiu")]([SubResource("Resource_kj3ns")])

[editable path="Decoration/StaticBody2D4"]
[editable path="Decoration/StaticBody2D4/GPUParticles2D"]
